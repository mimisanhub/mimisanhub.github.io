<!DOCTYPE html>
<html>
<head>
  <title>Advanced Drawing App</title>
  <style>
    #canvas {
      border: 1px solid black;
      width: 100vw;
      height: 600px;
    }
    #controls {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  
  <div id="controls">
    <label for="brushSize">Brush Size:</label>
    <input type="range" id="brushSize" min="1" max="20" value="5">
  
    <label for="brushColor">Brush Color:</label>
    <input type="color" id="brushColor" value="#000000">
  
    <label for="opacity">Opacity:</label>
    <input type="range" id="opacity" min="0" max="1" step="0.1" value="1">
  
    <button id="eraser">Eraser</button>
    <button id="clear">Clear</button>
  </div>
  
  <script>
    // Get the canvas element
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    // Set canvas size
    canvas.width = window.innerWidth;
    canvas.height = 600;
    
    // Variables to store mouse position
    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;
  
    // Set initial brush properties
    let brushSize = 5;
    let brushColor = '#000000';
    let opacity = 1;
    let isEraser = false;
  
    // Function to start drawing
    function startDrawing(e) {
      isDrawing = true;
      [lastX, lastY] = [e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop];
    }
  
    // Function to stop drawing
    function stopDrawing() {
      isDrawing = false;
    }
  
    // Function to draw lines
    function draw(e) {
      if (!isDrawing) return;
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
      ctx.strokeStyle = isEraser ? 'white' : brushColor;
      ctx.lineWidth = brushSize;
      ctx.globalAlpha = opacity;
      ctx.lineCap = 'round';
      ctx.stroke();
      [lastX, lastY] = [e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop];
    }
  
    // Function to clear the canvas
    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
  
    // Event listener for brush size change
    const brushSizeInput = document.getElementById('brushSize');
    brushSizeInput.addEventListener('input', function() {
      brushSize = this.value;
    });
  
    // Event listener for brush color change
    const brushColorInput = document.getElementById('brushColor');
    brushColorInput.addEventListener('input', function() {
      brushColor = this.value;
    });
  
    // Event listener for opacity change
    const opacityInput = document.getElementById('opacity');
    opacityInput.addEventListener('input', function() {
      opacity = this.value;
    });
  
    // Event listener for eraser button
    const eraserButton = document.getElementById('eraser');
    eraserButton.addEventListener('click', function() {
      isEraser = !isEraser;
      eraserButton.textContent = isEraser ? 'Brush' : 'Eraser';
    });
  
    // Event listener for clear button
    const clearButton = document.getElementById('clear');
    clearButton.addEventListener('click', clearCanvas);
  
    // Attach event listeners to the canvas
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mousemove', draw);
  </script>
</body>
</html>
